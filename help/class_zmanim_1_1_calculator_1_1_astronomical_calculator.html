<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Zmanim Project: Zmanim.Calculator.AstronomicalCalculator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>Zmanim</b>.<b>Calculator</b>.<a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html">AstronomicalCalculator</a>
  </div>
</div>
<div class="contents">
<h1>Zmanim.Calculator.AstronomicalCalculator Class Reference</h1><!-- doxytag: class="Zmanim::Calculator::AstronomicalCalculator" --><!-- doxytag: inherits="Zmanim::Calculator::IAstronomicalCalculator" -->
<p>An abstract class that all sun time calculating classes extend. This allows the algorithm used to be changed at runtime, easily allowing comparison the results of using different algorithms.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Zmanim.Calculator.AstronomicalCalculator:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_zmanim_1_1_calculator_1_1_astronomical_calculator.png" usemap="#Zmanim.Calculator.AstronomicalCalculator_map" alt=""/>
  <map id="Zmanim.Calculator.AstronomicalCalculator_map" name="Zmanim.Calculator.AstronomicalCalculator_map">
<area href="interface_zmanim_1_1_calculator_1_1_i_astronomical_calculator.html" alt="Zmanim.Calculator.IAstronomicalCalculator" shape="rect" coords="399,0,655,24"/>
<area href="class_zmanim_1_1_calculator_1_1_j_suntime_calculator.html" alt="Zmanim.Calculator.JSuntimeCalculator" shape="rect" coords="0,112,256,136"/>
<area href="class_zmanim_1_1_calculator_1_1_n_o_a_a_calculator.html" alt="Zmanim.Calculator.NOAACalculator" shape="rect" coords="266,112,522,136"/>
<area href="class_zmanim_1_1_calculator_1_1_sun_times_calculator.html" alt="Zmanim.Calculator.SunTimesCalculator" shape="rect" coords="532,112,788,136"/>
<area href="class_zmanim_1_1_calculator_1_1_zmanim_calculator.html" alt="Zmanim.Calculator.ZmanimCalculator" shape="rect" coords="798,112,1054,136"/>
</map>
 </div>
</div>

<p><a href="class_zmanim_1_1_calculator_1_1_astronomical_calculator-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">object&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html#aaccf07b28b18359b50acc54fbba2db3a">Clone</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new object that is a copy of the current instance.  <a href="#aaccf07b28b18359b50acc54fbba2db3a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html#ad461b12981b986184d4d05533a8a0f52">GetUtcSunrise</a> (<a class="el" href="interface_zmanim_1_1_i_astronomical_calendar.html">IAstronomicalCalendar</a> astronomicalCalendar, double zenith, bool adjustForElevation)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A method that calculates UTC sunrise as well as any time based on an angle above or below sunrise. This abstract method is implemented by the classes that extend this class.  <a href="#ad461b12981b986184d4d05533a8a0f52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html#a6421962a8af48571fe568edd98d98582">GetUtcSunset</a> (<a class="el" href="interface_zmanim_1_1_i_astronomical_calendar.html">IAstronomicalCalendar</a> astronomicalCalendar, double zenith, bool adjustForElevation)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A method that calculates UTC sunset as well as any time based on an angle above or below sunset. This abstract method is implemented by the classes that extend this class.  <a href="#a6421962a8af48571fe568edd98d98582"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html">AstronomicalCalculator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html#aafcea4abe2420bbbc9a462171ab4c3b1">GetDefault</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html#a475ba6b63d7939db50cb5b0d4c6b3dac">AstronomicalCalculator</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html" title="An abstract class that all sun time calculating classes extend. This allows the algorithm...">AstronomicalCalculator</a> class.  <a href="#a475ba6b63d7939db50cb5b0d4c6b3dac"></a><br/></td></tr>
<tr><td colspan="2"><h2>Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html#a21a9357de0c0877a865f8149187e332f">CalculatorName</a><code> [get]</code></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A descriptive name of the algorithm.  <a href="#a21a9357de0c0877a865f8149187e332f"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>An abstract class that all sun time calculating classes extend. This allows the algorithm used to be changed at runtime, easily allowing comparison the results of using different algorithms. </p>
<p>&lt;author&gt;Eliyahu Hershfeld&lt;/author&gt; </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a475ba6b63d7939db50cb5b0d4c6b3dac"></a><!-- doxytag: member="Zmanim::Calculator::AstronomicalCalculator::AstronomicalCalculator" ref="a475ba6b63d7939db50cb5b0d4c6b3dac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Zmanim.Calculator.AstronomicalCalculator.AstronomicalCalculator </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html" title="An abstract class that all sun time calculating classes extend. This allows the algorithm...">AstronomicalCalculator</a> class. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aaccf07b28b18359b50acc54fbba2db3a"></a><!-- doxytag: member="Zmanim::Calculator::AstronomicalCalculator::Clone" ref="aaccf07b28b18359b50acc54fbba2db3a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">object Zmanim.Calculator.AstronomicalCalculator.Clone </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new object that is a copy of the current instance. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new object that is a copy of this instance. </dd></dl>
<p>summary&gt; getDefault method returns the default sun times calculation engine. /summary&gt; returns&gt; <a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html" title="An abstract class that all sun time calculating classes extend. This allows the algorithm...">AstronomicalCalculator</a> the default class for calculating sunrise and sunset. In the current implementation the default calculator returned is the <a class="el" href="class_zmanim_1_1_calculator_1_1_sun_times_calculator.html" title="Implementation of sunrise and sunset methods to calculate astronomical times. This...">SunTimesCalculator</a>. </p>

</div>
</div>
<a class="anchor" id="aafcea4abe2420bbbc9a462171ab4c3b1"></a><!-- doxytag: member="Zmanim::Calculator::AstronomicalCalculator::GetDefault" ref="aafcea4abe2420bbbc9a462171ab4c3b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_zmanim_1_1_calculator_1_1_astronomical_calculator.html">AstronomicalCalculator</a> Zmanim.Calculator.AstronomicalCalculator.GetDefault </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>summary&gt; Method to return the adjustment to the zenith required to account for the elevation. Since a person at a higher elevation can see farther below the horizon, the calculation for sunrise / sunset is calculated below the horizon used at sea level. This is only used for sunrise and sunset and not times above or below it such as <a class="el" href="class_zmanim_1_1_astronomical_calendar.html#a9ae046c1d60ceda4c757b0ebcc80fc28">nautical twilight</a> since those calculations are based on the level of available light at the given dip below the horizon, something that is not affected by elevation, the adjustment should only made if the zenith == 90°; <a class="el" href="">adjusted</a> for refraction and solar radius.<br/>
 The algorithm used is:</p>
<div class="fragment"><pre class="fragment">               elevationAdjustment = MathExtensions.ToDegree(Math.acos(earthRadiusInMeters
               / (earthRadiusInMeters + elevationMeters)));
</pre></div><p>The source of this algorthitm is <a href="http://www.calendarists.com">Calendrical Calculations</a> by Edward M. Reingold and Nachum Dershowitz. An alternate algorithm that produces an almost identical (but not accurate) result found in Ma'aglay Tzedek by Moishe Kosower and other sources is:</p>
<div class="fragment"><pre class="fragment">               elevationAdjustment = 0.0347 * Math.sqrt(elevationMeters);
</pre></div><p> /summary&gt; param name = "elevation"&gt; elevation in Meters. </p>
<p>returns&gt; the adjusted zenith </p>

</div>
</div>
<a class="anchor" id="ad461b12981b986184d4d05533a8a0f52"></a><!-- doxytag: member="Zmanim::Calculator::AstronomicalCalculator::GetUtcSunrise" ref="ad461b12981b986184d4d05533a8a0f52" args="(IAstronomicalCalendar astronomicalCalendar, double zenith, bool adjustForElevation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract double Zmanim.Calculator.AstronomicalCalculator.GetUtcSunrise </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_zmanim_1_1_i_astronomical_calendar.html">IAstronomicalCalendar</a>&nbsp;</td>
          <td class="paramname"> <em>astronomicalCalendar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>zenith</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>adjustForElevation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A method that calculates UTC sunrise as well as any time based on an angle above or below sunrise. This abstract method is implemented by the classes that extend this class. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>astronomicalCalendar</em>&nbsp;</td><td>Used to calculate day of year.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>zenith</em>&nbsp;</td><td>the azimuth below the vertical zenith of 90 degrees. for sunrise typically the <a class="el" href="">zenith</a> used for the calculation uses geometric zenith of 90°; and <a class="el" href="">adjusts</a> this slightly to account for solar refraction and the sun's radius. Another example would be <a class="el" href="class_zmanim_1_1_astronomical_calendar.html#a9ae046c1d60ceda4c757b0ebcc80fc28">AstronomicalCalendar.GetBeginNauticalTwilight</a> that passes <a class="el" href="class_zmanim_1_1_astronomical_calendar.html#a94a14a2fd457c5c3577446f37838fad5" title="Sun&#39;s zenith at nautical twilight (102°).">AstronomicalCalendar.NAUTICAL_ZENITH</a> to this method.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>adjustForElevation</em>&nbsp;</td><td>if set to <code>true</code> [adjust for elevation].</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The UTC time of sunrise in 24 hour format. 5:45:00 AM will return 5.75.0. If an error was encountered in the calculation (expected behavior for some locations such as near the poles, Double.NaN will be returned. </dd></dl>

<p>Implements <a class="el" href="interface_zmanim_1_1_calculator_1_1_i_astronomical_calculator.html#a034f17e1a19658258c1d2f341fdde8c8">Zmanim.Calculator.IAstronomicalCalculator</a>.</p>

<p>Implemented in <a class="el" href="class_zmanim_1_1_calculator_1_1_j_suntime_calculator.html#a42b1984d1ab78f346f40860d0e9d0919">Zmanim.Calculator.JSuntimeCalculator</a>, <a class="el" href="class_zmanim_1_1_calculator_1_1_n_o_a_a_calculator.html#ad7ca98a923dd6deb5472c002922abc0a">Zmanim.Calculator.NOAACalculator</a>, <a class="el" href="class_zmanim_1_1_calculator_1_1_sun_times_calculator.html#a57ea1fdcd1a42771591d4f2dfaeb4657">Zmanim.Calculator.SunTimesCalculator</a>, and <a class="el" href="class_zmanim_1_1_calculator_1_1_zmanim_calculator.html#a187cbe3c9905e631ef14e2b5db4db3c0">Zmanim.Calculator.ZmanimCalculator</a>.</p>

</div>
</div>
<a class="anchor" id="a6421962a8af48571fe568edd98d98582"></a><!-- doxytag: member="Zmanim::Calculator::AstronomicalCalculator::GetUtcSunset" ref="a6421962a8af48571fe568edd98d98582" args="(IAstronomicalCalendar astronomicalCalendar, double zenith, bool adjustForElevation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract double Zmanim.Calculator.AstronomicalCalculator.GetUtcSunset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_zmanim_1_1_i_astronomical_calendar.html">IAstronomicalCalendar</a>&nbsp;</td>
          <td class="paramname"> <em>astronomicalCalendar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>zenith</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>adjustForElevation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A method that calculates UTC sunset as well as any time based on an angle above or below sunset. This abstract method is implemented by the classes that extend this class. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>astronomicalCalendar</em>&nbsp;</td><td>Used to calculate day of year.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>zenith</em>&nbsp;</td><td>the azimuth below the vertical zenith of 90°;. For sunset typically the <a class="el" href="">zenith</a> used for the calculation uses geometric zenith of 90°; and <a class="el" href="">adjusts</a> this slightly to account for solar refraction and the sun's radius. Another example would be <a class="el" href="class_zmanim_1_1_astronomical_calendar.html#abb753640618950c38de787fb2cf7d4f2" title="A method to return the the end of nautical twilight using a zenith of 102°.">AstronomicalCalendar.GetEndNauticalTwilight</a> that passes <a class="el" href="class_zmanim_1_1_astronomical_calendar.html#a94a14a2fd457c5c3577446f37838fad5" title="Sun&#39;s zenith at nautical twilight (102°).">AstronomicalCalendar.NAUTICAL_ZENITH</a> to this method.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>adjustForElevation</em>&nbsp;</td><td>if set to <code>true</code> [adjust for elevation].</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The UTC time of sunset in 24 hour format. 5:45:00 AM will return 5.75.0. If an error was encountered in the calculation (expected behavior for some locations such as near the poles, <dl class="see"><dt><b>See also:</b></dt><dd>Double.NaN</dd></dl>
will be returned. </dd></dl>

<p>Implements <a class="el" href="interface_zmanim_1_1_calculator_1_1_i_astronomical_calculator.html#ac2aec5cc2539ba2169b54030c4b08088">Zmanim.Calculator.IAstronomicalCalculator</a>.</p>

<p>Implemented in <a class="el" href="class_zmanim_1_1_calculator_1_1_j_suntime_calculator.html#aaed2dc7f4acabd0ecad804ed3e7f3f42">Zmanim.Calculator.JSuntimeCalculator</a>, <a class="el" href="class_zmanim_1_1_calculator_1_1_n_o_a_a_calculator.html#acf71590193289662cec3de4ff4a2eab0">Zmanim.Calculator.NOAACalculator</a>, <a class="el" href="class_zmanim_1_1_calculator_1_1_sun_times_calculator.html#a569547fa49e3dcd96d2858105f236902">Zmanim.Calculator.SunTimesCalculator</a>, and <a class="el" href="class_zmanim_1_1_calculator_1_1_zmanim_calculator.html#a09f4382139ccb358cf9b990a87c765dc">Zmanim.Calculator.ZmanimCalculator</a>.</p>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a21a9357de0c0877a865f8149187e332f"></a><!-- doxytag: member="Zmanim::Calculator::AstronomicalCalculator::CalculatorName" ref="a21a9357de0c0877a865f8149187e332f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract string Zmanim.Calculator.AstronomicalCalculator.CalculatorName<code> [get]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A descriptive name of the algorithm. </p>

<p>Implements <a class="el" href="interface_zmanim_1_1_calculator_1_1_i_astronomical_calculator.html#ad970d4ecf31634a461388621de9e2d6a">Zmanim.Calculator.IAstronomicalCalculator</a>.</p>

<p>Reimplemented in <a class="el" href="class_zmanim_1_1_calculator_1_1_j_suntime_calculator.html#a6cdb9346c85861e9b388e62fc4d858a1">Zmanim.Calculator.JSuntimeCalculator</a>, <a class="el" href="class_zmanim_1_1_calculator_1_1_n_o_a_a_calculator.html#ae0a3c95a9e1959a0efb28e64dbe2101c">Zmanim.Calculator.NOAACalculator</a>, <a class="el" href="class_zmanim_1_1_calculator_1_1_sun_times_calculator.html#a416236c322b045dc33f49f78927a9eb8">Zmanim.Calculator.SunTimesCalculator</a>, and <a class="el" href="class_zmanim_1_1_calculator_1_1_zmanim_calculator.html#a4bb554d32944a3a841dff6db87a4d896">Zmanim.Calculator.ZmanimCalculator</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/Projects/Zmanim/src/Zmanim/Calculator/AstronomicalCalculator.cs</li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon May 31 12:33:42 2010 for Zmanim Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
